/*
* =====================================================================================
 *
 *       Filename:  lambda.h
 *
 *    Description:  Idiomatic C99 interface to interact with Lambda
 *
 *        Version:  0.0.1
 *        Created:  2025-04-12 17:14:01
 *       Compiler:  clang
 *
 *         Author:  Emy ðŸ’œ (https://emy.systems),
 *
 * =====================================================================================
 */

#ifndef LAMBDA_H
#define LAMBDA_H

#define SIG_INT       "I"
#define SIG_BOOLEAN   "Z"
#define SIG_BYTE      "B"
#define SIG_CHAR      "C"
#define SIG_SHORT     "S"
#define SIG_LONG      "J"
#define SIG_FLOAT     "F"
#define SIG_DOUBLE    "D"
#define SIG_VOID      "V"

#define SIG_CLASS(name)  "L" name ";"
#define SIG_ARRAY(type) "[" type
#define SIG_FUNC(ret, ...)  "(" __VA_ARGS__ ")" ret

#define ARRAY_LEN(arr) sizeof(arr) / sizeof(arr[0])


#include <jvmti.h>
#include <jni.h>

typedef struct {
    // Lcom/lambda/event/listener/SafeListener$Companion;
    jclass      klass;
    jobject     instance;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlin/jvm/functions/Function2<-Lcom/lambda/context/SafeContext;-TT;Lkotlin/Unit;>;)Lcom/lambda/event/listener/SafeListener<TT;>;
    jmethodID   listen;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;Lkotlin/reflect/KClass<+TT;>;IZLkotlin/jvm/functions/Function2<-Lcom/lambda/context/SafeContext;-TT;Lkotlin/Unit;>;)Lcom/lambda/event/listener/SafeListener<TT;>;
    jmethodID   listen_k;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlin/jvm/functions/Function2<-Lcom/lambda/context/SafeContext;-TT;Ljava/lang/Boolean;>;)Lkotlin/properties/ReadWriteProperty<Ljava/lang/Object;TT;>;
    jmethodID   listen_once;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlinx/coroutines/CoroutineDispatcher;Lkotlin/jvm/functions/Function3<-Lcom/lambda/context/SafeContext;-TT;-Lkotlin/coroutines/Continuation<-Lkotlin/Unit;>;+Ljava/lang/Object;>;)Lcom/lambda/event/listener/SafeListener<TT;>;
    jmethodID   listen_concurrently;
} listener_companion;

typedef struct {
    // Lcom/lambda/event/listener/UnsafeListener$Companion;
    jclass      klass;
    jobject     instance;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlin/jvm/functions/Function1<-TT;Lkotlin/Unit;>;)Lcom/lambda/event/listener/UnsafeListener<TT;>;
    jmethodID   listen_unsafe;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlin/jvm/functions/Function1<-TT;Ljava/lang/Boolean;>;)Lkotlin/properties/ReadWriteProperty<Ljava/lang/Object;TT;>;
    jmethodID   listen_once_unsafe;

    // <T::Lcom/lambda/event/Event;>(Ljava/lang/Object;IZLkotlinx/coroutines/CoroutineDispatcher;Lkotlin/jvm/functions/Function2<-TT;-Lkotlin/coroutines/Continuation<-Lkotlin/Unit;>;+Ljava/lang/Object;>;)Lcom/lambda/event/listener/UnsafeListener<TT;>;
    jmethodID   listen_concurrently_unsafe;
} unsafe_listener_companion;

typedef struct {
    // Lcom/lambda/Lambda;
    jclass      klass;
    jobject     instance;

    jmethodID   version;

    jmethodID   log;

    // static
    jmethodID   mc;

    jmethodID   is_debug;
} lambda;

typedef void* (listen_lambda)(void*, void*); // SafeContext.(T) -> Unit

jobject tickevent_pre;
jobject tickevent_post;

listener_companion listener_companion_instance;
unsafe_listener_companion unsafe_listener_companion_instance;
lambda lambda_instance;


/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_listener_companion
 *  Description:    Returns a struct containing the methods of SafeListener's companion.
 *                  The instance of the companion is stored in listener_companion_instance.
 * =====================================================================================
 */
void
    get_listener_companion(
        jvmtiEnv            *jvmti,
        JNIEnv              *env,
        listener_companion  *companion);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    listener_companion_listen
 *  Description:    Returns a struct containing the methods of SafeListener's companion.
 *                  The instance of the companion is stored in listener_companion_instance.
 * =====================================================================================
 */
void
    listener_companion_listen(
        jvmtiEnv            *jvmti,
        JNIEnv              *env,
        listener_companion *companion,
        jobject             owner,
        __int32_t           priority,
        __int8_t            alwaysListen,
        listen_lambda       lambda);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_unsafe_listener_companion
 *  Description:    Returns a struct containing the methods of UnsafeListener's companion
 *                  The instance of the companion is stored in unsafe_listener_companion_instance.
 * =====================================================================================
 */
void
    get_unsafe_listener_companion(
        jvmtiEnv                    *jvmti,
        JNIEnv                      *env,
        unsafe_listener_companion   *companion);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_lambda
 *  Description:    Returns a struct containing the class and methods of Lambda
 *                  The instance of the class is stored in lambda_instance.
 * =====================================================================================
 */
void
    get_lambda(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        lambda      *lambda);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    lambda_version
 *  Description:    Returns a copied utf8 jstring of the mod's version.
 *                  Must be freed with ReleaseStringChars.
 * =====================================================================================
 */
const char*
    lambda_version(
        JNIEnv          *env,
        const lambda    *lambda);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    lambda_log
 *  Description:    Returns the Log4j class instance of Lambda.
 * =====================================================================================
 */
jobject
    lambda_log(
        JNIEnv          *env,
        const lambda    *lambda);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    lambda_mc
 *  Description:    Returns the MinecraftClient class instance.
 * =====================================================================================
 */
void*
    lambda_mc(
        JNIEnv          *env,
        const lambda    *lambda);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    lambda_is_debug
 *  Description:    Returns whether the mod is running in the development environment.
 * =====================================================================================
 */
jboolean
    lambda_is_debug(
        JNIEnv          *env,
        const lambda    *lambda);

/*
 * ====================================================================================
 * ====================================================================================
 * ====================================================================================
 */

/*
 * ===  Kotlin STDLIB  ================================================================
 * ====================================================================================
 * ====================================================================================
 */
jclass jvm_class_mapping_kt;
jmethodID get_kotlin_class;

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_class
 *  Description:    Finds a class by its name
 * =====================================================================================
 */
void
    get_class(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        jclass      *klass);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_sclass
 *  Description:    Finds a class and its static INSTANCE field.
 * =====================================================================================
 */
void
    get_sclass(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        const char  *sig,
        jclass      *klass,
        jobject     *instance);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_cclass
 *  Description:    Finds a class companion and returns its Companion instance.
 *                  The class signature must be of the parent class.
 * =====================================================================================
 */
void
    get_cclass(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        jclass      *klass,
        jobject     *instance);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    has_method
 *  Description:    Returns whether the given class contains the method name with its signature
 * =====================================================================================
 */
jboolean
    has_method(
        jvmtiEnv    *jvmti,
        const char  *name,
        const char  *sig,
        jclass      klass);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    has_field
 *  Description:    Returns whether the given class contains the field name and its signature
 * =====================================================================================
 */
jboolean
    has_field(
        jvmtiEnv    *jvmti,
        const char  *name,
        const char  *sig,
        jclass      klass);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_method
 *  Description:    Finds a method on the given class.
 * =====================================================================================
 */
void
    get_method(
        jvmtiEnv        *jvmti,
        JNIEnv          *env,
        const char      *name,
        const char      *sig,
        jclass          klass,
        jmethodID       *method);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    get_method
 *  Description:    Finds a static method on the given class.
 * =====================================================================================
 */
void
    get_smethod(
        jvmtiEnv        *jvmti,
        JNIEnv          *env,
        const char      *name,
        const char      *sig,
        jclass          klass,
        jmethodID       *method);

/*
 * ===  FUNCTION  ======================================================================
 *         Name:    lambdah_init
 +*  Description:   Initializes various components for the interface.
 * =====================================================================================
 */
void
    lambdah_init(
        jvmtiEnv    *jvmti,
        JNIEnv      *env);

JNIEXPORT
jobject
JNICALL
  Java_com_lambda_Function2Native_invokeNative(
      JNIEnv    *env,
      jobject   p1,
      jobject   p2);

#ifndef LAMBDA_IMPL
#define LAMBDA_IMPL

#include <assert.h>
#include <stdlib.h>
#include <string.h>

inline
void
    get_listener_companion(
        jvmtiEnv            *jvmti,
        JNIEnv              *env,
        listener_companion  *companion)
{
    // ToDo: Fix the other signatures
    get_cclass(jvmti, env, "com/lambda/event/listener/SafeListener", &companion->klass, &companion->instance);
    get_method(jvmti, env, "listen", SIG_FUNC(SIG_CLASS("com/lambda/event/listener/SafeListener"), SIG_CLASS("java/lang/Object") SIG_INT SIG_BOOLEAN SIG_CLASS("kotlin/jvm/functions/Function2")), companion->klass, &companion->listen);
    get_method(jvmti, env, "listen", SIG_FUNC(SIG_CLASS("com/lambda/event/listener/SafeListener"), SIG_CLASS("java/lang/Object") SIG_CLASS("kotlin/reflect/KClass") SIG_INT SIG_BOOLEAN SIG_CLASS("kotlin/jvm/functions/Function2")), companion->klass, &companion->listen_k);

    /*get_method(env,
    "listen",
    SIG_FUNC(
        SIG_CLASS("com/lambda/event/listener/SafeListener"),
        SIG_CLASS("java/lang/Object")
        SIG_INT
        SIG_BOOLEAN
        SIG_CLASS("kotlin/jvm/functions/Function2")),
    &companion->klass,
    &companion->listen_once);

    get_method(env,
    "listen",
    SIG_FUNC(
        SIG_CLASS("com/lambda/event/listener/SafeListener"),
        SIG_CLASS("java/lang/Object")
        SIG_INT
        SIG_BOOLEAN
        SIG_CLASS("kotlin/jvm/functions/Function2")),
    &companion->klass,
    &companion->listen_concurrently);*/
}

inline
void
    listener_companion_listen(
        jvmtiEnv            *jvmti,
        JNIEnv              *env,
        listener_companion *companion,
        jobject             owner,
        __int32_t           priority,
        __int8_t            alwaysListen,
        listen_lambda       lambda)
{

}

inline
void
    get_unsafe_listener_companion(
        jvmtiEnv                    *jvmti,
        JNIEnv                      *env,
        unsafe_listener_companion   *companion)
{
    // ToDo: Fix the other signatures
    get_sclass(jvmti, env, "com/lambda/event/listener/SafeListener$Companion", SIG_CLASS("com/lambda/event/listener/SafeListener$Companion"), &companion->klass, &companion->instance);

    get_method(jvmti, env,
        "listen",
        SIG_FUNC(
            SIG_CLASS("com/lambda/event/listener/SafeListener"),
            SIG_CLASS("java/lang/Object")
            SIG_INT
            SIG_BOOLEAN
            SIG_CLASS("kotlin/jvm/functions/Function2")),
        companion->klass,
        &companion->listen_unsafe);

    get_method(jvmti, env,
    "listen",
    SIG_FUNC(
        SIG_CLASS("com/lambda/event/listener/SafeListener"),
        SIG_CLASS("java/lang/Object")
        SIG_INT
        SIG_BOOLEAN
        SIG_CLASS("kotlin/jvm/functions/Function2")),
    companion->klass,
    &companion->listen_once_unsafe);

    get_method(jvmti, env,
    "listen",
    SIG_FUNC(
        SIG_CLASS("com/lambda/event/listener/SafeListener"),
        SIG_CLASS("java/lang/Object")
        SIG_INT
        SIG_BOOLEAN
        SIG_CLASS("kotlin/jvm/functions/Function2")),
    companion->klass,
    &companion->listen_concurrently_unsafe);
}

inline
jboolean
    has_method(
        jvmtiEnv    *jvmti,
        const char  *name,
        const char  *sig,
        jclass      klass)
{
    char* m_name;
    char* m_sig;
    char contains = 0;

    jint methods_count = 0;
    jmethodID *methods = NULL;
    (*jvmti)->GetClassMethods(jvmti, klass, &methods_count, &methods);

    for (int i = 0; i < methods_count; i++) {
        const jvmtiError ret =
            (*jvmti)->GetMethodName(jvmti, methods[i], &m_name, &m_sig, NULL);

        assert(ret != JVMTI_ERROR_INVALID_METHODID);

        if (strcmp(name, m_name) == 0 && strcmp(sig, m_sig) == 0)
            contains = 1;

        (*jvmti)->Deallocate(jvmti, (__uint8_t*) m_name);
        (*jvmti)->Deallocate(jvmti, (__uint8_t*) m_sig);
    }

    return contains;
}

inline
jboolean
    has_field(
        jvmtiEnv    *jvmti,
        const char  *name,
        const char  *sig,
        jclass      klass)
{
    char* f_name;
    char* f_sig;
    char contains = 0;

    jint fields_count = 0;
    jfieldID *methods;
    (*jvmti)->GetClassFields(jvmti, klass, &fields_count, &methods);

    for (int i = 0; i < fields_count && !contains; i++) {
        const jvmtiError ret =
            (*jvmti)->GetFieldName(jvmti, klass, methods[i], &f_name, &f_sig, NULL);

        assert(ret != JVMTI_ERROR_INVALID_CLASS);
        assert(ret != JVMTI_ERROR_INVALID_FIELDID);

        if (strcmp(name, f_name) == 0 && strcmp(sig, f_sig) == 0)
            contains = 1;

        (*jvmti)->Deallocate(jvmti, (__uint8_t*) f_name);
        (*jvmti)->Deallocate(jvmti, (__uint8_t*) f_sig);
    }

    return contains;
}

inline
void
    get_class(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        jclass      *klass)
{
    *klass = (*env)->FindClass(env, name);
    assert(NULL != *klass && "Could not find the class given class");
}

inline
void
    get_sclass(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        const char  *sig,
        jclass      *klass,
        jobject     *instance)
{
    get_class(jvmti, env, name, klass);

#ifdef DEBUG
    assert( has_field(jvmti, "INSTANCE", sig, *klass) );
#endif

    jfieldID staticField =
        (*env)->GetStaticFieldID(env, *klass, "INSTANCE", sig);
    assert(NULL != staticField && "Could not find the static field for the object");

    *instance = (*env)->GetStaticObjectField(env, *klass, staticField);
    assert(NULL != instance && "Could not find the given class' static INSTANCE field");
}

inline
void
    get_cclass(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        const char  *name,
        jclass      *klass,
        jobject     *instance)
{
    jclass super_klass = NULL;
    get_class(jvmti, env, name, &super_klass);

    const size_t name_l = strlen(name);
    char *companion_sig = malloc( name_l + 2 + 10 + 1 );
    char *companion_name = malloc( name_l + 10 + 1 );

    strcpy(companion_sig, "L");
    strcpy(companion_sig+1, name);
    strcpy(companion_sig+1+name_l, "$Companion");
    strcpy(companion_sig+11+name_l, ";");

    strcpy(companion_name, name);
    strcpy(companion_name+name_l, "$Companion");

    get_class(jvmti, env, companion_name, klass);

#ifdef DEBUG
    assert( has_field(jvmti, "Companion", companion_sig, super_klass) );
#endif

    jfieldID staticField =
        (*env)->GetStaticFieldID(env, super_klass, "Companion", companion_sig);

    *instance = (*env)->GetStaticObjectField(env, super_klass, staticField);
}

inline
void
    get_method(
        jvmtiEnv        *jvmti,
        JNIEnv          *env,
        const char      *name,
        const char      *sig,
        jclass          klass,
        jmethodID       *method)
{
#ifdef DEBUG
    assert( has_method(jvmti, name, sig, klass) );
#endif

    *method = (*env)->GetMethodID(env, klass, name, sig);
}

inline
void
    get_smethod(
        jvmtiEnv        *jvmti,
        JNIEnv          *env,
        const char      *name,
        const char      *sig,
        jclass          klass,
        jmethodID       *method)
{
#ifdef DEBUG
    assert( has_method(jvmti, name, sig, klass) );
#endif

    *method = (*env)->GetStaticMethodID(env, klass, name, sig);
}

inline
void
    get_lambda(
        jvmtiEnv    *jvmti,
        JNIEnv      *env,
        lambda      *lambda)
{
    get_sclass(jvmti, env, "com/lambda/Lambda", SIG_CLASS("com/lambda/Lambda"), &lambda->klass, &lambda->instance);
    get_method(jvmti, env, "getVERSION", SIG_FUNC(SIG_CLASS("java/lang/String")), lambda->klass, &lambda->version);
    get_method(jvmti, env, "getLOG", SIG_FUNC(SIG_CLASS("org/apache/logging/log4j/Logger")), lambda->klass, &lambda->log);
    get_smethod(jvmti, env, "getMc", SIG_FUNC(SIG_CLASS("net/minecraft/client/MinecraftClient")), lambda->klass, &lambda->mc);
    get_method(jvmti, env, "isDebug", SIG_FUNC(SIG_BOOLEAN), lambda->klass, &lambda->is_debug);
}

inline
const char*
    lambda_version(
        JNIEnv          *env,
        const lambda    *lambda)
{
    const jstring ret = (*env)->CallObjectMethod(env, lambda->instance, lambda->version);
    return (*env)->GetStringUTFChars(env, ret, 0);
}

inline
jobject
    lambda_log(
        JNIEnv          *env,
        const lambda    *lambda)
{
    return (*env)->CallObjectMethod(env, lambda->instance, lambda->log);
}

inline
void*
    lambda_mc(
    JNIEnv          *env,
    const lambda    *lambda)
{
    return (*env)->CallStaticObjectMethod(env, lambda->instance, lambda->mc);
}

inline
jboolean
    lambda_is_debug(
        JNIEnv          *env,
        const lambda    *lambda)
{
    return (*env)->CallBooleanMethod(env, lambda->instance, lambda->is_debug);
}

inline
void
    lambdah_init(
        jvmtiEnv    *jvmti,
        JNIEnv      *env)
{
    jclass klass = {0};

    get_sclass(jvmti, env, "com/lambda/event/events/TickEvent$Pre", SIG_CLASS("com/lambda/event/events/TickEvent$Pre"), &klass, &tickevent_pre);
    get_sclass(jvmti, env, "com/lambda/event/events/TickEvent$Post", SIG_CLASS("com/lambda/event/events/TickEvent$Post"), &klass, &tickevent_post);

    jvm_class_mapping_kt = (*env)->FindClass(env, "kotlin/jvm/JvmClassMappingKt");

    get_smethod(jvmti, env,
        "getKotlinClass",
        SIG_FUNC(SIG_CLASS("kotlin/reflect/KClass"), SIG_CLASS("java/lang/Class")),
        jvm_class_mapping_kt,
        &get_kotlin_class);

    get_listener_companion(jvmti, env, &listener_companion_instance);

    // invokeNative(n)
    const int8_t function0_native_bytes[] = {0xca,0xfe,0xba,0xbe,0x00,0x00,0x00,0x41,0x00,0x24,0x01,0x00,0x1a,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x30,0x4e,0x61,0x74,0x69,0x76,0x65,0x07,0x00,0x01,0x01,0x00,0x10,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x07,0x00,0x03,0x01,0x00,0x1e,0x6b,0x6f,0x74,0x6c,0x69,0x6e,0x2f,0x6a,0x76,0x6d,0x2f,0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x73,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x30,0x07,0x00,0x05,0x01,0x00,0x23,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x49,0x6e,0x76,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x07,0x00,0x07,0x01,0x00,0x14,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x30,0x4e,0x61,0x74,0x69,0x76,0x65,0x2e,0x6a,0x61,0x76,0x61,0x01,0x00,0x06,0x3c,0x69,0x6e,0x69,0x74,0x3e,0x01,0x00,0x03,0x28,0x29,0x56,0x0c,0x00,0x0a,0x00,0x0b,0x0a,0x00,0x04,0x00,0x0c,0x01,0x00,0x04,0x74,0x68,0x69,0x73,0x01,0x00,0x1c,0x4c,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x30,0x4e,0x61,0x74,0x69,0x76,0x65,0x3b,0x01,0x00,0x0c,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x4e,0x61,0x74,0x69,0x76,0x65,0x01,0x00,0x14,0x28,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x06,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x0c,0x00,0x10,0x00,0x11,0x0a,0x00,0x02,0x00,0x13,0x01,0x00,0x53,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x13,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x54,0x68,0x72,0x6f,0x77,0x61,0x62,0x6c,0x65,0x07,0x00,0x16,0x01,0x00,0x01,0x6f,0x01,0x00,0x06,0x6d,0x65,0x74,0x68,0x6f,0x64,0x01,0x00,0x07,0x6f,0x62,0x6a,0x65,0x63,0x74,0x73,0x01,0x00,0x12,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x1a,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x01,0x00,0x13,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x04,0x43,0x6f,0x64,0x65,0x01,0x00,0x0f,0x4c,0x69,0x6e,0x65,0x4e,0x75,0x6d,0x62,0x65,0x72,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x12,0x4c,0x6f,0x63,0x61,0x6c,0x56,0x61,0x72,0x69,0x61,0x62,0x6c,0x65,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x0a,0x45,0x78,0x63,0x65,0x70,0x74,0x69,0x6f,0x6e,0x73,0x01,0x00,0x10,0x4d,0x65,0x74,0x68,0x6f,0x64,0x50,0x61,0x72,0x61,0x6d,0x65,0x74,0x65,0x72,0x73,0x01,0x00,0x0a,0x53,0x6f,0x75,0x72,0x63,0x65,0x46,0x69,0x6c,0x65,0x00,0x21,0x00,0x02,0x00,0x04,0x00,0x02,0x00,0x06,0x00,0x08,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x0a,0x00,0x0b,0x00,0x01,0x00,0x1e,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb7,0x00,0x0d,0xb1,0x00,0x00,0x00,0x02,0x00,0x1f,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x19,0x00,0x20,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x01,0x01,0x00,0x10,0x00,0x11,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x11,0x00,0x01,0x00,0x1e,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb6,0x00,0x14,0xb0,0x00,0x00,0x00,0x02,0x00,0x1f,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x1d,0x00,0x20,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x15,0x00,0x03,0x00,0x1e,0x00,0x00,0x00,0x4d,0x00,0x01,0x00,0x04,0x00,0x00,0x00,0x05,0x2a,0xb6,0x00,0x14,0xb0,0x00,0x00,0x00,0x02,0x00,0x1f,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x20,0x00,0x20,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x05,0x00,0x18,0x00,0x1b,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x19,0x00,0x1c,0x00,0x02,0x00,0x00,0x00,0x05,0x00,0x1a,0x00,0x1d,0x00,0x03,0x00,0x21,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x17,0x00,0x22,0x00,0x00,0x00,0x0d,0x03,0x00,0x18,0x00,0x00,0x00,0x19,0x00,0x00,0x00,0x1a,0x00,0x00,0x00,0x01,0x00,0x23,0x00,0x00,0x00,0x02,0x00,0x09};
    const int8_t function1_native_bytes[] = {0xca,0xfe,0xba,0xbe,0x00,0x00,0x00,0x41,0x00,0x25,0x01,0x00,0x1a,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x31,0x4e,0x61,0x74,0x69,0x76,0x65,0x07,0x00,0x01,0x01,0x00,0x10,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x07,0x00,0x03,0x01,0x00,0x1e,0x6b,0x6f,0x74,0x6c,0x69,0x6e,0x2f,0x6a,0x76,0x6d,0x2f,0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x73,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x31,0x07,0x00,0x05,0x01,0x00,0x23,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x49,0x6e,0x76,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x07,0x00,0x07,0x01,0x00,0x14,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x31,0x4e,0x61,0x74,0x69,0x76,0x65,0x2e,0x6a,0x61,0x76,0x61,0x01,0x00,0x06,0x3c,0x69,0x6e,0x69,0x74,0x3e,0x01,0x00,0x03,0x28,0x29,0x56,0x0c,0x00,0x0a,0x00,0x0b,0x0a,0x00,0x04,0x00,0x0c,0x01,0x00,0x04,0x74,0x68,0x69,0x73,0x01,0x00,0x1c,0x4c,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x31,0x4e,0x61,0x74,0x69,0x76,0x65,0x3b,0x01,0x00,0x0c,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x4e,0x61,0x74,0x69,0x76,0x65,0x01,0x00,0x26,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x06,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x01,0x00,0x02,0x70,0x31,0x0c,0x00,0x10,0x00,0x11,0x0a,0x00,0x02,0x00,0x14,0x01,0x00,0x12,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x53,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x13,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x54,0x68,0x72,0x6f,0x77,0x61,0x62,0x6c,0x65,0x07,0x00,0x18,0x01,0x00,0x01,0x6f,0x01,0x00,0x06,0x6d,0x65,0x74,0x68,0x6f,0x64,0x01,0x00,0x07,0x6f,0x62,0x6a,0x65,0x63,0x74,0x73,0x01,0x00,0x1a,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x01,0x00,0x13,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x04,0x43,0x6f,0x64,0x65,0x01,0x00,0x0f,0x4c,0x69,0x6e,0x65,0x4e,0x75,0x6d,0x62,0x65,0x72,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x12,0x4c,0x6f,0x63,0x61,0x6c,0x56,0x61,0x72,0x69,0x61,0x62,0x6c,0x65,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x10,0x4d,0x65,0x74,0x68,0x6f,0x64,0x50,0x61,0x72,0x61,0x6d,0x65,0x74,0x65,0x72,0x73,0x01,0x00,0x0a,0x45,0x78,0x63,0x65,0x70,0x74,0x69,0x6f,0x6e,0x73,0x01,0x00,0x0a,0x53,0x6f,0x75,0x72,0x63,0x65,0x46,0x69,0x6c,0x65,0x00,0x21,0x00,0x02,0x00,0x04,0x00,0x02,0x00,0x06,0x00,0x08,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x0a,0x00,0x0b,0x00,0x01,0x00,0x1f,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb7,0x00,0x0d,0xb1,0x00,0x00,0x00,0x02,0x00,0x20,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x19,0x00,0x21,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x01,0x01,0x00,0x10,0x00,0x11,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x11,0x00,0x02,0x00,0x1f,0x00,0x00,0x00,0x3a,0x00,0x02,0x00,0x02,0x00,0x00,0x00,0x06,0x2a,0x2b,0xb6,0x00,0x15,0xb0,0x00,0x00,0x00,0x02,0x00,0x20,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x1d,0x00,0x21,0x00,0x00,0x00,0x16,0x00,0x02,0x00,0x00,0x00,0x06,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x13,0x00,0x16,0x00,0x01,0x00,0x22,0x00,0x00,0x00,0x05,0x01,0x00,0x13,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x17,0x00,0x03,0x00,0x1f,0x00,0x00,0x00,0x50,0x00,0x03,0x00,0x04,0x00,0x00,0x00,0x08,0x2a,0x2d,0x03,0x32,0xb6,0x00,0x15,0xb0,0x00,0x00,0x00,0x02,0x00,0x20,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x20,0x00,0x21,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x08,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x1a,0x00,0x16,0x00,0x01,0x00,0x00,0x00,0x08,0x00,0x1b,0x00,0x1d,0x00,0x02,0x00,0x00,0x00,0x08,0x00,0x1c,0x00,0x1e,0x00,0x03,0x00,0x23,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x19,0x00,0x22,0x00,0x00,0x00,0x0d,0x03,0x00,0x1a,0x00,0x00,0x00,0x1b,0x00,0x00,0x00,0x1c,0x00,0x00,0x00,0x01,0x00,0x24,0x00,0x00,0x00,0x02,0x00,0x09};
    const int8_t function2_native_bytes[] = {0xca,0xfe,0xba,0xbe,0x00,0x00,0x00,0x41,0x00,0x26,0x01,0x00,0x1a,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x32,0x4e,0x61,0x74,0x69,0x76,0x65,0x07,0x00,0x01,0x01,0x00,0x10,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x07,0x00,0x03,0x01,0x00,0x1e,0x6b,0x6f,0x74,0x6c,0x69,0x6e,0x2f,0x6a,0x76,0x6d,0x2f,0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x73,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x32,0x07,0x00,0x05,0x01,0x00,0x23,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x49,0x6e,0x76,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x07,0x00,0x07,0x01,0x00,0x14,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x32,0x4e,0x61,0x74,0x69,0x76,0x65,0x2e,0x6a,0x61,0x76,0x61,0x01,0x00,0x06,0x3c,0x69,0x6e,0x69,0x74,0x3e,0x01,0x00,0x03,0x28,0x29,0x56,0x0c,0x00,0x0a,0x00,0x0b,0x0a,0x00,0x04,0x00,0x0c,0x01,0x00,0x04,0x74,0x68,0x69,0x73,0x01,0x00,0x1c,0x4c,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x32,0x4e,0x61,0x74,0x69,0x76,0x65,0x3b,0x01,0x00,0x0c,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x4e,0x61,0x74,0x69,0x76,0x65,0x01,0x00,0x38,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x06,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x01,0x00,0x02,0x70,0x31,0x01,0x00,0x02,0x70,0x32,0x0c,0x00,0x10,0x00,0x11,0x0a,0x00,0x02,0x00,0x15,0x01,0x00,0x12,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x53,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x13,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x54,0x68,0x72,0x6f,0x77,0x61,0x62,0x6c,0x65,0x07,0x00,0x19,0x01,0x00,0x01,0x6f,0x01,0x00,0x06,0x6d,0x65,0x74,0x68,0x6f,0x64,0x01,0x00,0x07,0x6f,0x62,0x6a,0x65,0x63,0x74,0x73,0x01,0x00,0x1a,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x01,0x00,0x13,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x04,0x43,0x6f,0x64,0x65,0x01,0x00,0x0f,0x4c,0x69,0x6e,0x65,0x4e,0x75,0x6d,0x62,0x65,0x72,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x12,0x4c,0x6f,0x63,0x61,0x6c,0x56,0x61,0x72,0x69,0x61,0x62,0x6c,0x65,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x10,0x4d,0x65,0x74,0x68,0x6f,0x64,0x50,0x61,0x72,0x61,0x6d,0x65,0x74,0x65,0x72,0x73,0x01,0x00,0x0a,0x45,0x78,0x63,0x65,0x70,0x74,0x69,0x6f,0x6e,0x73,0x01,0x00,0x0a,0x53,0x6f,0x75,0x72,0x63,0x65,0x46,0x69,0x6c,0x65,0x00,0x21,0x00,0x02,0x00,0x04,0x00,0x02,0x00,0x06,0x00,0x08,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x0a,0x00,0x0b,0x00,0x01,0x00,0x20,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb7,0x00,0x0d,0xb1,0x00,0x00,0x00,0x02,0x00,0x21,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x19,0x00,0x22,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x01,0x01,0x00,0x10,0x00,0x11,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x11,0x00,0x02,0x00,0x20,0x00,0x00,0x00,0x45,0x00,0x03,0x00,0x03,0x00,0x00,0x00,0x07,0x2a,0x2b,0x2c,0xb6,0x00,0x16,0xb0,0x00,0x00,0x00,0x02,0x00,0x21,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x1d,0x00,0x22,0x00,0x00,0x00,0x20,0x00,0x03,0x00,0x00,0x00,0x07,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x07,0x00,0x13,0x00,0x17,0x00,0x01,0x00,0x00,0x00,0x07,0x00,0x14,0x00,0x17,0x00,0x02,0x00,0x23,0x00,0x00,0x00,0x09,0x02,0x00,0x13,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x18,0x00,0x03,0x00,0x20,0x00,0x00,0x00,0x53,0x00,0x04,0x00,0x04,0x00,0x00,0x00,0x0b,0x2a,0x2d,0x03,0x32,0x2d,0x04,0x32,0xb6,0x00,0x16,0xb0,0x00,0x00,0x00,0x02,0x00,0x21,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x20,0x00,0x22,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x0b,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x0b,0x00,0x1b,0x00,0x17,0x00,0x01,0x00,0x00,0x00,0x0b,0x00,0x1c,0x00,0x1e,0x00,0x02,0x00,0x00,0x00,0x0b,0x00,0x1d,0x00,0x1f,0x00,0x03,0x00,0x24,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x1a,0x00,0x23,0x00,0x00,0x00,0x0d,0x03,0x00,0x1b,0x00,0x00,0x00,0x1c,0x00,0x00,0x00,0x1d,0x00,0x00,0x00,0x01,0x00,0x25,0x00,0x00,0x00,0x02,0x00,0x09};
    const int8_t function3_native_bytes[] = {0xca,0xfe,0xba,0xbe,0x00,0x00,0x00,0x41,0x00,0x27,0x01,0x00,0x1a,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x33,0x4e,0x61,0x74,0x69,0x76,0x65,0x07,0x00,0x01,0x01,0x00,0x10,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x07,0x00,0x03,0x01,0x00,0x1e,0x6b,0x6f,0x74,0x6c,0x69,0x6e,0x2f,0x6a,0x76,0x6d,0x2f,0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x73,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x33,0x07,0x00,0x05,0x01,0x00,0x23,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x49,0x6e,0x76,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x07,0x00,0x07,0x01,0x00,0x14,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x33,0x4e,0x61,0x74,0x69,0x76,0x65,0x2e,0x6a,0x61,0x76,0x61,0x01,0x00,0x06,0x3c,0x69,0x6e,0x69,0x74,0x3e,0x01,0x00,0x03,0x28,0x29,0x56,0x0c,0x00,0x0a,0x00,0x0b,0x0a,0x00,0x04,0x00,0x0c,0x01,0x00,0x04,0x74,0x68,0x69,0x73,0x01,0x00,0x1c,0x4c,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x33,0x4e,0x61,0x74,0x69,0x76,0x65,0x3b,0x01,0x00,0x0c,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x4e,0x61,0x74,0x69,0x76,0x65,0x01,0x00,0x4a,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x06,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x01,0x00,0x02,0x70,0x31,0x01,0x00,0x02,0x70,0x32,0x01,0x00,0x02,0x70,0x33,0x0c,0x00,0x10,0x00,0x11,0x0a,0x00,0x02,0x00,0x16,0x01,0x00,0x12,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x53,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x13,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x54,0x68,0x72,0x6f,0x77,0x61,0x62,0x6c,0x65,0x07,0x00,0x1a,0x01,0x00,0x01,0x6f,0x01,0x00,0x06,0x6d,0x65,0x74,0x68,0x6f,0x64,0x01,0x00,0x07,0x6f,0x62,0x6a,0x65,0x63,0x74,0x73,0x01,0x00,0x1a,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x01,0x00,0x13,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x04,0x43,0x6f,0x64,0x65,0x01,0x00,0x0f,0x4c,0x69,0x6e,0x65,0x4e,0x75,0x6d,0x62,0x65,0x72,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x12,0x4c,0x6f,0x63,0x61,0x6c,0x56,0x61,0x72,0x69,0x61,0x62,0x6c,0x65,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x10,0x4d,0x65,0x74,0x68,0x6f,0x64,0x50,0x61,0x72,0x61,0x6d,0x65,0x74,0x65,0x72,0x73,0x01,0x00,0x0a,0x45,0x78,0x63,0x65,0x70,0x74,0x69,0x6f,0x6e,0x73,0x01,0x00,0x0a,0x53,0x6f,0x75,0x72,0x63,0x65,0x46,0x69,0x6c,0x65,0x00,0x21,0x00,0x02,0x00,0x04,0x00,0x02,0x00,0x06,0x00,0x08,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x0a,0x00,0x0b,0x00,0x01,0x00,0x21,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb7,0x00,0x0d,0xb1,0x00,0x00,0x00,0x02,0x00,0x22,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x19,0x00,0x23,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x01,0x01,0x00,0x10,0x00,0x11,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x11,0x00,0x02,0x00,0x21,0x00,0x00,0x00,0x50,0x00,0x04,0x00,0x04,0x00,0x00,0x00,0x08,0x2a,0x2b,0x2c,0x2d,0xb6,0x00,0x17,0xb0,0x00,0x00,0x00,0x02,0x00,0x22,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x1d,0x00,0x23,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x08,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x13,0x00,0x18,0x00,0x01,0x00,0x00,0x00,0x08,0x00,0x14,0x00,0x18,0x00,0x02,0x00,0x00,0x00,0x08,0x00,0x15,0x00,0x18,0x00,0x03,0x00,0x24,0x00,0x00,0x00,0x0d,0x03,0x00,0x13,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x15,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x19,0x00,0x03,0x00,0x21,0x00,0x00,0x00,0x56,0x00,0x05,0x00,0x04,0x00,0x00,0x00,0x0e,0x2a,0x2d,0x03,0x32,0x2d,0x04,0x32,0x2d,0x05,0x32,0xb6,0x00,0x17,0xb0,0x00,0x00,0x00,0x02,0x00,0x22,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x20,0x00,0x23,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x0e,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x1c,0x00,0x18,0x00,0x01,0x00,0x00,0x00,0x0e,0x00,0x1d,0x00,0x1f,0x00,0x02,0x00,0x00,0x00,0x0e,0x00,0x1e,0x00,0x20,0x00,0x03,0x00,0x25,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x1b,0x00,0x24,0x00,0x00,0x00,0x0d,0x03,0x00,0x1c,0x00,0x00,0x00,0x1d,0x00,0x00,0x00,0x1e,0x00,0x00,0x00,0x01,0x00,0x26,0x00,0x00,0x00,0x02,0x00,0x09};
    const int8_t function4_native_bytes[] = {0xca,0xfe,0xba,0xbe,0x00,0x00,0x00,0x41,0x00,0x28,0x01,0x00,0x1a,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x34,0x4e,0x61,0x74,0x69,0x76,0x65,0x07,0x00,0x01,0x01,0x00,0x10,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x07,0x00,0x03,0x01,0x00,0x1e,0x6b,0x6f,0x74,0x6c,0x69,0x6e,0x2f,0x6a,0x76,0x6d,0x2f,0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x73,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x34,0x07,0x00,0x05,0x01,0x00,0x23,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x49,0x6e,0x76,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x07,0x00,0x07,0x01,0x00,0x14,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x34,0x4e,0x61,0x74,0x69,0x76,0x65,0x2e,0x6a,0x61,0x76,0x61,0x01,0x00,0x06,0x3c,0x69,0x6e,0x69,0x74,0x3e,0x01,0x00,0x03,0x28,0x29,0x56,0x0c,0x00,0x0a,0x00,0x0b,0x0a,0x00,0x04,0x00,0x0c,0x01,0x00,0x04,0x74,0x68,0x69,0x73,0x01,0x00,0x1c,0x4c,0x63,0x6f,0x6d,0x2f,0x6c,0x61,0x6d,0x62,0x64,0x61,0x2f,0x46,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e,0x34,0x4e,0x61,0x74,0x69,0x76,0x65,0x3b,0x01,0x00,0x0c,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x4e,0x61,0x74,0x69,0x76,0x65,0x01,0x00,0x5c,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x06,0x69,0x6e,0x76,0x6f,0x6b,0x65,0x01,0x00,0x02,0x70,0x31,0x01,0x00,0x02,0x70,0x32,0x01,0x00,0x02,0x70,0x33,0x01,0x00,0x02,0x70,0x34,0x0c,0x00,0x10,0x00,0x11,0x0a,0x00,0x02,0x00,0x17,0x01,0x00,0x12,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x53,0x28,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x29,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x13,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x54,0x68,0x72,0x6f,0x77,0x61,0x62,0x6c,0x65,0x07,0x00,0x1b,0x01,0x00,0x01,0x6f,0x01,0x00,0x06,0x6d,0x65,0x74,0x68,0x6f,0x64,0x01,0x00,0x07,0x6f,0x62,0x6a,0x65,0x63,0x74,0x73,0x01,0x00,0x1a,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x72,0x65,0x66,0x6c,0x65,0x63,0x74,0x2f,0x4d,0x65,0x74,0x68,0x6f,0x64,0x3b,0x01,0x00,0x13,0x5b,0x4c,0x6a,0x61,0x76,0x61,0x2f,0x6c,0x61,0x6e,0x67,0x2f,0x4f,0x62,0x6a,0x65,0x63,0x74,0x3b,0x01,0x00,0x04,0x43,0x6f,0x64,0x65,0x01,0x00,0x0f,0x4c,0x69,0x6e,0x65,0x4e,0x75,0x6d,0x62,0x65,0x72,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x12,0x4c,0x6f,0x63,0x61,0x6c,0x56,0x61,0x72,0x69,0x61,0x62,0x6c,0x65,0x54,0x61,0x62,0x6c,0x65,0x01,0x00,0x10,0x4d,0x65,0x74,0x68,0x6f,0x64,0x50,0x61,0x72,0x61,0x6d,0x65,0x74,0x65,0x72,0x73,0x01,0x00,0x0a,0x45,0x78,0x63,0x65,0x70,0x74,0x69,0x6f,0x6e,0x73,0x01,0x00,0x0a,0x53,0x6f,0x75,0x72,0x63,0x65,0x46,0x69,0x6c,0x65,0x00,0x21,0x00,0x02,0x00,0x04,0x00,0x02,0x00,0x06,0x00,0x08,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x0a,0x00,0x0b,0x00,0x01,0x00,0x22,0x00,0x00,0x00,0x2f,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x05,0x2a,0xb7,0x00,0x0d,0xb1,0x00,0x00,0x00,0x02,0x00,0x23,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x19,0x00,0x24,0x00,0x00,0x00,0x0c,0x00,0x01,0x00,0x00,0x00,0x05,0x00,0x0e,0x00,0x0f,0x00,0x00,0x01,0x01,0x00,0x10,0x00,0x11,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x11,0x00,0x02,0x00,0x22,0x00,0x00,0x00,0x5c,0x00,0x05,0x00,0x05,0x00,0x00,0x00,0x0a,0x2a,0x2b,0x2c,0x2d,0x19,0x04,0xb6,0x00,0x18,0xb0,0x00,0x00,0x00,0x02,0x00,0x23,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x1d,0x00,0x24,0x00,0x00,0x00,0x34,0x00,0x05,0x00,0x00,0x00,0x0a,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x0a,0x00,0x13,0x00,0x19,0x00,0x01,0x00,0x00,0x00,0x0a,0x00,0x14,0x00,0x19,0x00,0x02,0x00,0x00,0x00,0x0a,0x00,0x15,0x00,0x19,0x00,0x03,0x00,0x00,0x00,0x0a,0x00,0x16,0x00,0x19,0x00,0x04,0x00,0x25,0x00,0x00,0x00,0x11,0x04,0x00,0x13,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x15,0x00,0x00,0x00,0x16,0x00,0x00,0x00,0x01,0x00,0x12,0x00,0x1a,0x00,0x03,0x00,0x22,0x00,0x00,0x00,0x59,0x00,0x06,0x00,0x04,0x00,0x00,0x00,0x11,0x2a,0x2d,0x03,0x32,0x2d,0x04,0x32,0x2d,0x05,0x32,0x2d,0x07,0x32,0xb6,0x00,0x18,0xb0,0x00,0x00,0x00,0x02,0x00,0x23,0x00,0x00,0x00,0x06,0x00,0x01,0x00,0x00,0x00,0x20,0x00,0x24,0x00,0x00,0x00,0x2a,0x00,0x04,0x00,0x00,0x00,0x11,0x00,0x0e,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x11,0x00,0x1d,0x00,0x19,0x00,0x01,0x00,0x00,0x00,0x11,0x00,0x1e,0x00,0x20,0x00,0x02,0x00,0x00,0x00,0x11,0x00,0x1f,0x00,0x21,0x00,0x03,0x00,0x26,0x00,0x00,0x00,0x04,0x00,0x01,0x00,0x1c,0x00,0x25,0x00,0x00,0x00,0x0d,0x03,0x00,0x1d,0x00,0x00,0x00,0x1e,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x01,0x00,0x27,0x00,0x00,0x00,0x02,0x00,0x09};

    const jclass thread_klass =             (*env)->FindClass(env, "java/lang/Thread");
    jmethodID current_thread_method =       (*env)->GetStaticMethodID(env, thread_klass, "currentThread", SIG_FUNC(SIG_CLASS("java/lang/Thread")));
    jmethodID get_context_classloader =     (*env)->GetMethodID(env, thread_klass, "getContextClassLoader", SIG_FUNC(SIG_CLASS("java/lang/ClassLoader")));
    jobject thread_instance =               (*env)->CallStaticObjectMethod(env, thread_klass, current_thread_method);
    jobject class_loader =                  (*env)->CallObjectMethod(env, thread_instance, get_context_classloader);

    (*env)->DefineClass(env, "com/lambda/Function0Native", class_loader, function0_native_bytes, ARRAY_LEN(function0_native_bytes));
    (*env)->DefineClass(env, "com/lambda/Function1Native", class_loader, function1_native_bytes, ARRAY_LEN(function1_native_bytes));
    (*env)->DefineClass(env, "com/lambda/Function2Native", class_loader, function2_native_bytes, ARRAY_LEN(function2_native_bytes));
    (*env)->DefineClass(env, "com/lambda/Function3Native", class_loader, function3_native_bytes, ARRAY_LEN(function3_native_bytes));
    (*env)->DefineClass(env, "com/lambda/Function4Native", class_loader, function4_native_bytes, ARRAY_LEN(function4_native_bytes));

    const jclass function0 = (*env)->FindClass(env, "kotlin/jvm/functions/Function0");
    const jclass function1 = (*env)->FindClass(env, "kotlin/jvm/functions/Function1");
    const jclass function2 = (*env)->FindClass(env, "kotlin/jvm/functions/Function2");
    const jclass function3 = (*env)->FindClass(env, "kotlin/jvm/functions/Function3");
    const jclass function4 = (*env)->FindClass(env, "kotlin/jvm/functions/Function4");
    const jclass function0_native = (*env)->FindClass(env, "com/lambda/Function0Native");
    const jclass function1_native = (*env)->FindClass(env, "com/lambda/Function1Native");
    const jclass function2_native = (*env)->FindClass(env, "com/lambda/Function2Native");
    const jclass function3_native = (*env)->FindClass(env, "com/lambda/Function3Native");
    const jclass function4_native = (*env)->FindClass(env, "com/lambda/Function4Native");

    const jclass class = (*env)->FindClass(env, "java/lang/Class");
    jobjectArray function0_interfaces = (*env)->NewObjectArray(env, 1, class, function0);
    jobjectArray function1_interfaces = (*env)->NewObjectArray(env, 1, class, function1);
    jobjectArray function2_interfaces = (*env)->NewObjectArray(env, 1, class, function2);
    jobjectArray function3_interfaces = (*env)->NewObjectArray(env, 1, class, function3);
    jobjectArray function4_interfaces = (*env)->NewObjectArray(env, 1, class, function4);

    jmethodID function0_native_init;
    jmethodID function1_native_init;
    jmethodID function2_native_init;
    jmethodID function3_native_init;
    jmethodID function4_native_init;
    get_method(jvmti, env, "<init>", SIG_FUNC(SIG_VOID), function0_native, &function0_native_init);
    get_method(jvmti, env, "<init>", SIG_FUNC(SIG_VOID), function1_native, &function1_native_init);
    get_method(jvmti, env, "<init>", SIG_FUNC(SIG_VOID), function2_native, &function2_native_init);
    get_method(jvmti, env, "<init>", SIG_FUNC(SIG_VOID), function3_native, &function3_native_init);
    get_method(jvmti, env, "<init>", SIG_FUNC(SIG_VOID), function4_native, &function4_native_init);

    jobject function0_native_instance = (*env)->NewObject(env, function0_native, function0_native_init);
    jobject function1_native_instance = (*env)->NewObject(env, function1_native, function1_native_init);
    jobject function2_native_instance = (*env)->NewObject(env, function2_native, function2_native_init);
    jobject function3_native_instance = (*env)->NewObject(env, function3_native, function3_native_init);
    jobject function4_native_instance = (*env)->NewObject(env, function4_native, function4_native_init);

    jclass proxy_klass = (*env)->FindClass(env, "java/lang/reflect/Proxy");
    jmethodID new_proxy_instance = (*env)->GetStaticMethodID(env, proxy_klass, "newProxyInstance", "(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;");

    // jdk.proxy2.$Proxy33
    jobject proxy_function0_native = (*env)->CallStaticObjectMethod(env, proxy_klass, new_proxy_instance, class_loader, function0_interfaces, function0_native_instance);
    jobject proxy_function1_native = (*env)->CallStaticObjectMethod(env, proxy_klass, new_proxy_instance, class_loader, function1_interfaces, function1_native_instance);
    jobject proxy_function2_native = (*env)->CallStaticObjectMethod(env, proxy_klass, new_proxy_instance, class_loader, function2_interfaces, function2_native_instance);
    jobject proxy_function3_native = (*env)->CallStaticObjectMethod(env, proxy_klass, new_proxy_instance, class_loader, function3_interfaces, function3_native_instance);
    jobject proxy_function4_native = (*env)->CallStaticObjectMethod(env, proxy_klass, new_proxy_instance, class_loader, function4_interfaces, function4_native_instance);

    jclass tickevent_pre_kklass = (*env)->GetObjectClass(env, tickevent_pre);

    jclass kotlin_native = (*env)->CallStaticObjectMethod(env, jvm_class_mapping_kt, get_kotlin_class, tickevent_pre_kklass);

    (*env)->CallObjectMethod(env,
        listener_companion_instance.klass,
        listener_companion_instance.listen_k,
        function2_native_instance,
        kotlin_native,
        1,
        0,
        proxy_function2_native);
}

inline
JNIEXPORT
jobject
JNICALL
  Java_com_lambda_Function2Native_invokeNative(
      JNIEnv    *env,
      jobject   p1,
      jobject   p2)
{
    fprintf(stderr, "TICKEVENT FROM JVMTI !!!\n");
    return 0;
}

#endif
#endif
